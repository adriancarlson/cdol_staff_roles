[
~[tlist_sql;
    SELECT 
    U_CDOL_STAFF_ROLES.id,
    U_CDOL_STAFF_ROLES.SchoolStaffDCID,
    U_CDOL_STAFF_ROLES.schoolid,
    U_CDOL_STAFF_ROLES.cdol_role,
    codeset.code,
    U_CDOL_STAFF_ROLES.priority,
    users.lastfirst,
    users.email_addr
    FROM U_CDOL_STAFF_ROLES
    INNER JOIN CODESET 
        on U_CDOL_STAFF_ROLES.cdol_role = codeset.displayvalue
        AND codeset.codetype ='CDOL Staff Roles'
    INNER JOIN schoolstaff 
        ON U_CDOL_STAFF_ROLES.SchoolStaffDCID = schoolstaff.DCID
    INNER JOIN users 
        ON schoolstaff.users_dcid = users.dcid
    WHERE  0 =0 
    ~[if#curSchoolID.~(gpv.curSchoolID)#] AND U_CDOL_STAFF_ROLES.schoolid = '~(gpv.curSchoolID)'[/if#curSchoolID]
    ~[if#SchoolStaffDCID.~(gpv.SchoolStaffDCID)#] AND U_CDOL_STAFF_ROLES.SchoolStaffDCID = '~(gpv.SchoolStaffDCID)'[/if#SchoolStaffDCID]

;]
    {
        "id": "~(id;JSON)",
        "SchoolStaffDCID": "~(1;JSON)",
        "schoolid":"~(2;JSON)",
        "cdol_role":"~(3;JSON)",
        "code":"~(4;JSON)",
        "priority":"~(5;JSON)",
        "lastfirst":"~(6;JSON)",
        "email_addr":"~(7;JSON)"
    },
[/tlist_sql]
{}]