<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Staff Email List</title>
        ~[wc:commonscripts]
        <link href="/images/css/screen.css" rel="stylesheet" media="screen">
        <link href="/images/css/print.css" rel="stylesheet" media="print">
        <style>
            [ng\:cloak],
            [ng-cloak],
            [data-ng-cloak],
            [x-ng-cloak],
            .ng-cloak,
            .x-ng-cloak {
                display: none !important;
            }
        </style>
    </head>

    <body>
        ~[wc:admin_header_css]
        ~[wc:admin_navigation_css]
        <h1>ðŸ“¨ Staff Email List</h1>
        <div class="box-round" data-require-path="components/staff_roles/index" data-module-name="staffRolesMod"
            data-ng-controller="emailListCtrl" data-ng-cur-school-id="~(curschoolid)" data-ng-cloak>
            <div id="emailListrGrid" data-pss-grid-widget data-data="emailListData"
                data-filtered-data="filteredEmailListData" data-item-type-text="Staff" data-no-grid-box="true"
                style="margin:0;">
                <div id="grid-colum-options">
                    <p>
                        <span data-ng-repeat="role in rolesData | orderBy:'uidisplayorder'">
                            <input type="checkbox" data-ng-model="showColumns[role.code]">
                            <span data-ng-click="showColumns[role.code] = !showColumns[role.code]">
                                {{ role.displayvalue }}
                            </span>
                        </span>
                    </p>
                </div>
                <table class="grid">
                    <thead>
                        <tr>
                            <th data-pss-sort-fields="lastfirst" data-primary-sort="ascending">Staff Name
                            </th>
                            <th data-pss-sort-fields="email_addr">Email</th>
                            <th>Roles</th>
                            <th data-ng-if="showColumns.School" class="center" data-pss-sort-fields="school_name">
                                School
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="staff in filteredEmailListData">
                            <td>{{staff.lastfirst}}</td>
                            <td class="center"><a data-ng-href="mailto:{{staff.email_addr}}"
                                    data-ng-bind="staff.email_addr"></a></td>
                            <td>{{staff.staff_roles}}</td>
                            <td data-ng-if="showColumns.School" class="center">{{staff.school_name}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        ~[wc:admin_footer_css]
    </body>

</html>